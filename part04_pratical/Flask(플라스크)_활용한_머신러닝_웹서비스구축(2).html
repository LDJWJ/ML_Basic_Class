<html>
<head>
  <title>Flask(플라스크)_활용한_머신러닝_웹서비스구축(2)</title>
  <basefont face="Segoe UI" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/309091 (ko-KR, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: Segoe UI;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="10121"/>
<h1>Flask(플라스크)_활용한_머신러닝_웹서비스구축(2)</h1>

<div>
<span><div><span style="font-size: 14pt;"><span style="font-size: 14pt;"><span style="font-size: 14pt; color: rgb(30, 172, 169); font-family: 나눔스퀘어_ac; font-weight: bold;">Flask(플라스크) 활용한 머신러닝 웹 서비스 구축</span></span></span></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div><br style="box-sizing: border-box;"/></div></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 14pt;"><span style="font-size: 14pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">학습 목표</span></span></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt;"><span style="font-size: 12pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">가.  Flask를 활용한 머신러닝 웹 서비스를 구현할 수 있다.</span></span></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><br/></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 14pt;"><span style="font-size: 14pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">학습 내용</span></span></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt;"><span style="font-size: 12pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">가.  가상환경 만들기</span></span></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">나.  필수 라이브러리 설치</span></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt;"><span style="font-size: 12pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">다.  전체 폴더 구조</span></span></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">라.  house.py 소스 코드</span></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">마.  flask_app 소스 코드</span></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">사.  home.html 소스 코드</span></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">아.  result.html 소스 코드</span></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">자. 실행</span></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><br/></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 14pt;"><span style="font-size: 14pt; color: rgb(0, 0, 0); font-family: 나눔스퀘어_ac; font-variant-caps: normal; font-variant-ligatures: normal;">목차</span></span></div><div><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14pt;"><span style="font-size: 14pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">가.  가상환경 만들기</span></span></span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font style="font-family: 나눔스퀘어_ac;">conda create -n flask_house python=3.8</font></span></div><div><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><font face="나눔스퀘어_ac">conda activate  </font></span>flask_house</div></div><div><br/></div><div><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 14pt;"><span style="font-size: 14pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">나. 필수 라이브러리 설치</span></span></span></div><div style="text-align: start;"><br/></div><div style="text-align: start;"><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 11pt;"><span style="font-size: 11pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">[방법1] requirements.txt 가 있을 경우,</span></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color: rgb(45, 79, 201);"><font face="나눔스퀘어_ac" style="font-size: 10pt;">pip install -r requirements.txt</font></span></div></div><div><br/></div><div><span style="font-size: 10pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac; font-weight: bold;">requirements.txt 내용</span></div><div><span style="font-size: 10pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac;">Flask</span></div><div><span style="font-size: 10pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac;">Jinja2</span></div><div><span style="font-size: 10pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac;">scikit-learn</span></div><div><span style="font-size: 10pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac;">scipy</span></div><div><span style="font-size: 10pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac;">virtualenv</span></div><div><span style="font-size: 10pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac;">pillow</span></div><div><span style="font-size: 10pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac;">imageio</span></div><div><span style="font-size: 10pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac;">numpy</span></div><div><span style="color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac;">pandas</span></div><div><br/></div><div><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 11pt;"><span style="font-size: 11pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">[방법2]</span></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font face="나눔스퀘어_ac">pip install flask==2.1.3  Jinja2</font></div><div><font face="나눔스퀘어_ac">pip install scikit-learn  </font>seaborn  pillow  imageio  pandas  virtualenv</div><div><font face="나눔스퀘어_ac">pip install numpy==1.23.1</font></div></div><div><br/></div><div><br/></div><div style="text-align: start;"><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 11pt;"><span style="font-size: 11pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">[리스트 확인]</span></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color: rgb(45, 79, 201); font-size: 10pt;"><font style="font-family: 나눔스퀘어_ac;">conda list</font></span></div></div><div><br/></div><div><span style="font-family: 나눔스퀘어_ac;">(flask_house) C:\Users\totofriend&gt;conda list</span></div><div><span style="font-family: 나눔스퀘어_ac;"># packages in environment at C:\Users\totofriend\anaconda3\envs\flask_house:</span></div><div><span style="font-family: 나눔스퀘어_ac;">#</span></div><div><span style="font-family: 나눔스퀘어_ac;"># Name                    Version                   Build  Channel</span></div><div><span style="font-family: 나눔스퀘어_ac;">ca-certificates           2022.07.19           haa95532_0</span></div><div><span style="font-family: 나눔스퀘어_ac;">certifi                   2022.9.24        py38haa95532_0</span></div><div><span style="font-family: 나눔스퀘어_ac;">click                     8.1.3                    pypi_0    pypi</span></div><div><span style="font-family: 나눔스퀘어_ac;">colorama                  0.4.5                    pypi_0    pypi</span></div><div><span style="font-family: 나눔스퀘어_ac;">contourpy                 1.0.5                    pypi_0    pypi</span></div><div><span style="font-family: 나눔스퀘어_ac;">cycler                    0.11.0                   pypi_0    pypi</span></div><div><span style="font-family: 나눔스퀘어_ac;">distlib                   0.3.6                    pypi_0    pypi</span></div><div><span style="font-family: 나눔스퀘어_ac;">filelock                  3.8.0                    pypi_0    pypi</span></div><div><span style="font-family: 나눔스퀘어_ac;"><b>flask                     2.1.3                    pypi_0    pypi</b></span></div><div><span style="font-family: 나눔스퀘어_ac;">fonttools                 4.37.4                   pypi_0    pypi</span></div><div><span style="font-family: 나눔스퀘어_ac;"><b>imageio                   2.22.1                   pypi_0    pypi</b></span></div><div><span style="font-family: 나눔스퀘어_ac;">importlib-metadata        5.0.0                    pypi_0    pypi</span></div><div><span style="font-family: 나눔스퀘어_ac;">itsdangerous              2.1.2                    pypi_0    pypi</span></div><div><span style="font-family: 나눔스퀘어_ac;"><b>jinja2                    3.1.2                    pypi_0    pypi</b></span></div><div><span style="font-family: 나눔스퀘어_ac;">joblib                    1.2.0                    pypi_0    pypi</span></div><div><span style="font-family: 나눔스퀘어_ac;">kiwisolver                1.4.4                    pypi_0    pypi</span></div><div><span style="font-family: 나눔스퀘어_ac;">markupsafe                2.1.1                    pypi_0    pypi</span></div><div><span style="font-family: 나눔스퀘어_ac;">matplotlib                3.6.1                    pypi_0    pypi</span></div><div><span style="font-family: 나눔스퀘어_ac;"><b>numpy                     1.23.1                   pypi_0    pypi</b></span></div><div><span style="font-family: 나눔스퀘어_ac;">openssl                   1.1.1q               h2bbff1b_0</span></div><div><span style="font-family: 나눔스퀘어_ac;">packaging                 21.3                     pypi_0    pypi</span></div><div><span style="font-family: 나눔스퀘어_ac;"><b>pandas                    1.5.0                    pypi_0    pypi</b></span></div><div><span style="font-family: 나눔스퀘어_ac;"><b>pillow                    9.2.0                    pypi_0    pypi</b></span></div><div><span style="font-family: 나눔스퀘어_ac;">pip                       22.2.2           py38haa95532_0</span></div><div><span style="font-family: 나눔스퀘어_ac;">platformdirs              2.5.2                    pypi_0    pypi</span></div><div><span style="font-family: 나눔스퀘어_ac;">pyparsing                 3.0.9                    pypi_0    pypi</span></div><div><span style="font-family: 나눔스퀘어_ac;"><b>python                    3.8.13               h6244533_0</b></span></div><div><span style="font-family: 나눔스퀘어_ac;">python-dateutil           2.8.2                    pypi_0    pypi</span></div><div><span style="font-family: 나눔스퀘어_ac;">pytz                      2022.4                   pypi_0    pypi</span></div><div><span style="font-family: 나눔스퀘어_ac;">scikit-learn              1.1.2                    pypi_0    pypi</span></div><div><span style="font-family: 나눔스퀘어_ac;">scipy                     1.9.2                    pypi_0    pypi</span></div><div><span style="font-family: 나눔스퀘어_ac;"><b>seaborn                   0.12.0                   pypi_0    pypi</b></span></div><div><span style="font-family: 나눔스퀘어_ac;">setuptools                63.4.1           py38haa95532_0</span></div><div><span style="font-family: 나눔스퀘어_ac;">six                       1.16.0                   pypi_0    pypi</span></div><div><span style="font-family: 나눔스퀘어_ac;">sqlite                    3.39.3               h2bbff1b_0</span></div><div><span style="font-family: 나눔스퀘어_ac;">threadpoolctl             3.1.0                    pypi_0    pypi</span></div><div><span style="font-family: 나눔스퀘어_ac;">vc                        14.2                 h21ff451_1</span></div><div><span style="font-family: 나눔스퀘어_ac;">virtualenv                20.16.5                  pypi_0    pypi</span></div><div><span style="font-family: 나눔스퀘어_ac;">vs2015_runtime            14.27.29016          h5e58377_2</span></div><div><span style="font-family: 나눔스퀘어_ac;">werkzeug                  2.2.2                    pypi_0    pypi</span></div><div><span style="font-family: 나눔스퀘어_ac;">wheel                     0.37.1             pyhd3eb1b0_0</span></div><div><span style="font-family: 나눔스퀘어_ac;">wincertstore              0.2              py38haa95532_2</span></div><div><span style="font-family: 나눔스퀘어_ac;">zipp                      3.9.0                    pypi_0    pypi</span></div><div><br/></div><div><br/></div><div><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 14pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">다. 전체 폴더 구조</span></div><div><br/></div><div style="text-align: start;"><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 11pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">[리스트 확인]</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color: rgb(45, 79, 201); font-size: 10pt; font-family: 나눔스퀘어_ac;">----[폴더명] </span></div><div><span style="color: rgb(45, 79, 201); font-size: 10pt; font-family: 나눔스퀘어_ac;">    ----- [폴더] data</span></div><div><span style="color: rgb(45, 79, 201); font-size: 10pt; font-family: 나눔스퀘어_ac;">    ----- [폴더] model</span></div><div><span style="color: rgb(45, 79, 201); font-size: 10pt; font-family: 나눔스퀘어_ac;">    ----- [폴더] static</span></div><div><span style="color: rgb(45, 79, 201); font-size: 10pt; font-family: 나눔스퀘어_ac;">    ----- [폴더] templates</span></div><div><span style="color: rgb(45, 79, 201); font-size: 10pt; font-family: 나눔스퀘어_ac;">    ----- house.py</span></div><div><span style="color: rgb(45, 79, 201); font-size: 10pt; font-family: 나눔스퀘어_ac;">    ----- flask_app.py</span></div></div><div><br/></div><div><span style="font-size: 10pt;"><span style="font-size: 10pt; color: rgb(70, 70, 70); font-family: 나눔스퀘어_ac;">iris.py : 파일을 불러오고, 실제 모델 구축 후, 이를 pickle 파일로 저장한다.</span></span></div><div><span style="font-size: 10pt;"><span style="font-size: 10pt; color: rgb(70, 70, 70); font-family: 나눔스퀘어_ac;">flask_app.py : iris.py에서 생성한 pickle파일을 불러온다. Flask App을 띄운다.</span></span></div><div><span style="font-size: 10pt;"><br/></span></div><div><span style="font-size: 10pt; color: rgb(70, 70, 70); font-family: 나눔스퀘어_ac;">----- [폴더] data : 데이터가 있는 폴더 </span></div><div><span style="font-size: 10pt; color: rgb(70, 70, 70); font-family: 나눔스퀘어_ac;">    (예) </span><span style="color: rgb(70, 70, 70); font-family: 나눔스퀘어_ac;">house_test.csv, </span><span style="color: rgb(70, 70, 70); font-family: 나눔스퀘어_ac;">house_train.csv</span></div><div><span style="font-size: 10pt; color: rgb(70, 70, 70); font-family: 나눔스퀘어_ac;"><br/></span></div><div><span style="font-size: 10pt;"><span style="font-size: 10pt; color: rgb(70, 70, 70); font-family: 나눔스퀘어_ac;">----- [폴더] model : 학습된 모델 저장할 폴더 </span></span></div><div><span style="font-size: 10pt;"><span style="font-size: 10pt; color: rgb(70, 70, 70); font-family: 나눔스퀘어_ac;">    (예) house_rf.pkl</span></span></div><div><span style="font-size: 10pt;"><br/></span></div><div><span style="font-size: 10pt; color: rgb(70, 70, 70); font-family: 나눔스퀘어_ac;">----- [폴더]</span> <span style="font-size: 10pt; color: rgb(70, 70, 70); font-family: 나눔스퀘어_ac;">static </span><span style="font-size: 10pt; color: rgb(70, 70, 70); font-family: 나눔스퀘어_ac;">: 참조할 이미지 폴더. 이곳에서 이미지를 불러와 웹에서 보여주게 된다.</span></div><div><span style="font-size: 10pt;"><span style="font-size: 10pt; color: rgb(70, 70, 70); font-family: 나눔스퀘어_ac;">    (예) </span></span><span style="color: rgb(70, 70, 70); font-family: 나눔스퀘어_ac;">house01_2210.jpg</span></div><div><span style="font-size: 10pt;"><br/></span></div><div><span style="font-size: 10pt; color: rgb(70, 70, 70); font-family: 나눔스퀘어_ac;">----- [폴더] templates :</span><span style="font-size: 10pt; color: rgb(70, 70, 70); font-family: 나눔스퀘어_ac;"> 첫 웹 페이지와 데이터 입력 후, 실행될 웹 html 파일 저장 폴더</span></div><div><span style="font-size: 10pt;"><span style="font-size: 10pt; color: rgb(70, 70, 70); font-family: 나눔스퀘어_ac;">   start.html, </span></span><span style="color: rgb(70, 70, 70); font-family: 나눔스퀘어_ac; font-size: 10pt;">result.html</span></div><div><span style="font-size: 10pt;"><br/></span></div><div><span style="font-size: 10pt;"><br/></span></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">라.  house.py 소스 코드</span></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#000000">#%% 01. 라이브러리 불러오기</font></div><div><font color="#000000">import time</font></div><div><font color="#000000">import os</font></div><div><font color="#000000">import pandas as pd</font></div><div><font color="#000000">import pickle</font></div><div><font color="#000000"><br/></font></div><div><font color="#000000"><br/></font></div><div><font color="#000000">from sklearn.ensemble import RandomForestRegressor</font></div><div><font color="#000000">from sklearn.model_selection import train_test_split</font></div><div><font color="#000000"><br/></font></div><div><font color="#000000"><br/></font></div><div><font color="#000000">start_time = time.time()</font></div><div><font color="#000000"><br/></font></div><div><font color="#000000"><br/></font></div><div><font color="#000000">#%% 02. 데이터 불러오기</font></div><div><font color="#000000">path = os.path.join(os.getcwd(), &quot;data&quot;)</font></div><div><font color="#000000">print(path)</font></div><div><font color="#000000">train = pd.read_csv(path + &quot;\\house_train.csv&quot;)</font></div><div><font color="#000000">test = pd.read_csv(path + &quot;\\house_test.csv&quot;)</font></div><div><font color="#000000"><br/></font></div><div><font color="#000000"><br/></font></div><div><font color="#000000">print( train.shape, test.shape )</font></div><div><font color="#000000">print( train.columns, test.columns )</font></div><div><font color="#000000">print( train.head(), test.head() )</font></div><div><font color="#000000"><br/></font></div><div><font color="#000000"><br/></font></div><div><font color="#000000"><br/></font></div><div><font color="#000000"><br/></font></div><div><font color="#000000">#%% 03 데이터 나누기 - 입력, 출력</font></div><div><font color="#000000">sel = ['sqft_living', 'sqft_lot', 'bedrooms']  # 'bedrooms' , 'bathrooms',</font></div><div><font color="#000000">X = train[sel]</font></div><div><font color="#000000">y = train['price']</font></div><div><font color="#000000"><br/></font></div><div><font color="#000000">print(&quot;data value : &quot;, X.describe())</font></div><div><font color="#000000">X_train, X_test, y_train, y_test = train_test_split(X, y,</font></div><div><font color="#000000">                                                    random_state=42)</font></div><div><font color="#000000"><br/></font></div><div><font color="#000000"><br/></font></div><div><font color="#000000">#%% 04 모델 구축 및 학습, 모델 저장</font></div><div><font color="#000000">model = RandomForestRegressor(n_estimators=5, random_state=2)  # 5개의 트리</font></div><div><font color="#000000">print( model.fit(X_train, y_train) )</font></div><div><font color="#000000">print(&quot;학습용 데이터 셋, 테스트용 데이터 셋&quot;)</font></div><div><font color="#000000">print( model.score(X_train, y_train))</font></div><div><font color="#000000">print( model.score(X_test, y_test))</font></div><div><font color="#000000"><br/></font></div><div><font color="#000000"><br/></font></div><div><font color="#000000">pickle.dump(model, open('./model/house_rf.pkl', 'wb'))</font></div><div><font color="#000000"><br/></font></div><div><font color="#000000"><br/></font></div><div><font color="#000000">print(&quot;시간 (초): &quot;, time.time() - start_time )</font></div></div></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt;"><br/></span></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">마.  flask_app 소스 코드</span></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>#%% 01. 라이브러리 불러오기</div><div>from flask import Flask, render_template, request</div><div>import pickle</div><div>import numpy as np</div><div><br/></div><div><br/></div><div>#%% 02 학습된 모델 가져오기</div><div>model = pickle.load(open('./model/house_rf.pkl', 'rb'))</div><div><br/></div><div><br/></div><div>#%% 03 플라스크 사용을 위한 준비</div><div>app = Flask(__name__)</div><div><br/></div><div><br/></div><div>#%% 04 플라스크 앱의 루트 디렉터리를 초기화</div><div>@app.route('/')</div><div>def main():</div><div>    return render_template('start.html')</div><div><br/></div><div><br/></div><div>#%% 05 초기 웹 페이지에서 submit 했을 때 실행</div><div># request.form['']을 사용하여 HTML 페이지에서 입력한 데이터를 가져온다.</div><div># 예측값에 따라 어떤 텍스트와 이미지를 보낼지, result.html에 설정.</div><div>@app.route('/predict', methods=['POST'])</div><div>def home():</div><div>    val1 = request.form['a']  # sqft_living    주거 공간의 평방 피트(면적)</div><div>    val2 = request.form['b']  # sqft_lot   부지의 평방 피트(면적)</div><div>    val3 = request.form['c']  # bedrooms   침실의 수</div><div><br/></div><div>    val1 = int(val1);<br/></div><div>    val2 = int(val2);</div><div>    val3 = int(val3);</div><div><br/></div><div><br/></div><div>    arr = np.array([[val1, val2, val3]])</div><div>    pred = model.predict(arr)</div><div><br/></div><div>    # 렌더링할 html 파일명, 전달할 변수</div><div>    return render_template('result.html', data=pred)</div><div><br/></div><div><br/></div><div># 05 직접 실행된 경우, 앱을 디버그 on 모드로 실행</div><div>if __name__ == &quot;__main__&quot;:</div><div>    app.run(debug=True)</div></div><div><br/></div></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">사.  start.html 소스 코드</span></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;html&gt;</div><div>    &lt;body bgcolor=#d4a3ae&gt;</div><div>        &lt;center&gt;</div><div>        &lt;h1&gt; 집값 예측 &lt;/h1&gt;</div><div>        &lt;form method=&quot;POST&quot;, action=&quot;{{url_for('home')}}&quot;&gt;</div><div>            &lt;div align=&quot;left&quot;&gt;</div><div>           &lt;b&gt;</div><div>            &lt;div width=&quot;400&quot;&gt;주거 공간의 평방 피트(면적) [290~13,540] : &lt;/div&gt; &lt;input type=&quot;text&quot;, name='a', placeholder=&quot;enter 1&quot;&gt;</div><div><br/></div><div>            &lt;div width=&quot;400&quot;&gt;부지의 평방 피트(면적) [520~1,651,359] :&lt;/div&gt;  &lt;input type=&quot;text&quot;, name='b', placeholder=&quot;enter 2&quot;&gt;</div><div><br/></div><div>            &lt;div width=&quot;400&quot;&gt;침실의 수 [0~10] : &lt;/div&gt; &lt;input type=&quot;text&quot;, name='c', placeholder=&quot;enter 3&quot;&gt;</div><div>           &lt;/b&gt;</div><div>            &lt;/div&gt;</div><div>            &lt;input type=&quot;submit&quot; , value='predict!' &gt;</div><div>        &lt;/form&gt;</div><div>        &lt;img src='static\house01_2210.jpg' alt=&quot;house&quot; width=&quot;600&quot; height=&quot;500&quot;&gt;</div><div>    &lt;/center&gt;</div><div>    &lt;/body&gt;</div><div>&lt;/html&gt;</div></div><div><br/></div></div><div style="box-sizing: border-box; margin: 0px; padding: 0px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">아.  result.html 소스 코드</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;html&gt;</div><div>&lt;body bgcolor=#a3cfb4&gt;</div><div>    &lt;center&gt;</div><div>        &lt;h1&gt;  예측한 집값은 얼마일까요?  &lt;/h1&gt;</div><div>    {%if data &gt; 0%}</div><div>    &lt;h2&gt;예측 집값 : {{data}}&lt;/h2&gt;</div><div>    &lt;img src='static\house01_2210.jpg' alt=&quot;house&quot; width=&quot;400&quot; height=&quot;400&quot;&gt;</div><div><br/></div><div>    {%endif%}</div><div>    &lt;a href='/'&gt;go back to home page&lt;/a&gt;</div><div>    &lt;/center&gt;</div><div>&lt;/body&gt;</div><div>&lt;/html&gt;</div></div><div><br/></div><div><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 12pt; color: rgb(45, 79, 201); font-family: 나눔스퀘어_ac; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold;">자. 실행</span></div><div><br/></div><div><span style="font-size: 10pt;"><span style="font-family: 나눔스퀘어_ac; font-size: 10pt; font-weight: bold; color: rgb(70, 70, 70);">01.  house.py을 실행</span></span></div><div><span style="font-size: 10pt;"><span style="font-family: 나눔스퀘어_ac; font-size: 10pt; font-weight: bold; color: rgb(70, 70, 70);">  [폴더] model에 학습된 모델 파일이 저장됩니다.</span></span></div><div><span style="font-size: 10pt;"><span style="font-family: 나눔스퀘어_ac; font-size: 10pt; font-weight: bold; color: rgb(70, 70, 70);"><br/></span></span></div><div><span style="font-size: 10pt;"><span style="font-family: 나눔스퀘어_ac; font-size: 10pt; font-weight: bold; color: rgb(70, 70, 70);">02. flask_app.py을 실행</span></span></div><div><span style="font-size: 10pt;"><span style="font-family: 나눔스퀘어_ac; font-size: 10pt; font-weight: bold; color: rgb(70, 70, 70);">  * 모델을 불러오고, flask app을 실행시킵니다.</span></span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>* Serving Flask app 'flask_app' (lazy loading)</div><div>* Environment: production</div><div>   WARNING: This is a development server. Do not use it in a production deployment.</div><div>   Use a production WSGI server instead.</div><div>* Debug mode: on</div><div>WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.</div><div>* Running on http://127.0.0.1:5000</div><div>Press CTRL+C to quit</div><div>* Restarting with watchdog (windowsapi)</div><div>* Debugger is active!</div></div><div><br/></div><div>03.  웹페이지 URL을 웹 사이트에 입력</div><div><a href="http://127.0.0.1:5000/">http://127.0.0.1:5000</a></div><div><br/></div><div> <img src="Flask(플라스크)_활용한_머신러닝_웹서비스구축(2)_files/Image.png" type="image/png" data-filename="Image.png" width="569"/></div><div><br/></div><div><br/></div><div>04 입력란에 값을 입력 후, predict!를 버튼을 선택하면 예상 결과가 나오게 됩니다.</div><div><br/></div><div><img src="Flask(플라스크)_활용한_머신러닝_웹서비스구축(2)_files/Image [1].png" type="image/png" data-filename="Image.png" width="330"/></div><div><br/></div><div><img src="Flask(플라스크)_활용한_머신러닝_웹서비스구축(2)_files/Image [2].png" type="image/png" data-filename="Image.png" width="330"/></div><div><br/></div><div><br/></div><div><br/></div></span>
</div></body></html> 